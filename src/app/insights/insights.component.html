<div class="mt-3 container">
    <div id="row">
        <h1>Inzichten</h1>
        <p>Hieronder staat een inschatting van de inkomsten en uitgaven van volgende maand.</p>
        <div class="col-sm-12">
        <ngx-spinner *ngIf="isLoading"
                     bdColor="#ffffff"
                     size="default"
                     color="#000000"
                     type="ball-pulse"
                     style="position: center"
                     [fullScreen]="false"><p style="position: relative; top: 30px">Inzichten worden opgehaald</p>
        </ngx-spinner>
        </div>
        <div class="text-center" *ngIf="!isLoading && accounts.length <= 0 && !status">Er zijn rekeningen gekoppeld aan dit account.</div>
        <ul class="list-group ml-3">
            <li *ngFor="let a of accounts; index as i;" class="list-unstyled" >
                <h5 class="row">{{a.name}} / {{a.iban}}<br></h5>
                <p class="row" *ngIf="collections[i] == undefined || collections[i] == null || collections[i].transactions.length <= 0">Er kunnen geen inschattingen gemaakt worden voor deze rekening.<br></p>

                <div class="row" *ngIf="collections[i] != undefined && collections[i] != null && collections[i].transactions.length > 0">
                    <table class="table table-bordered">
                        <thead class="thead-light">
                        <tr>
                            <th scope="col">Naam</th>
                            <th scope="col">IBAN</th>
                            <th scope="col">Bedrag</th>
                            <th scope="col">Datum</th>
                            <th scope="col">Type</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let t of collections[i].transactions">
                            {{getTegenRekening(t)}}
                            <th>{{tegenrekening.name}}</th>
                            <td>{{tegenrekening.iban}}</td>
                            <td [class.text-danger]="!t.received">
                                <div *ngIf="t.amount > 0">{{t.received ? "+" : "-"}} â‚¬ {{t.amount | number : "1.2-2"}}</div>
                                <div *ngIf="t.amount <= 0">N.v.t.</div>
                            </td>
                            <td>
                                <div *ngIf="t.date != undefined">{{t.date}}</div>
                                <div *ngIf="t.date == undefined || !t.booked && booked != undefined">-</div>
                                </td>
                            <td>{{t.type}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </li>
        </ul>
    </div>
</div>


