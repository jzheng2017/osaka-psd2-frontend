<div class="container">
  <div class="row">
    <div *ngIf="submitted" class="col-sm-12 alert alert-success">
      Je bent nu geregistreerd. Je wordt in een ogenblik gestuurd naar een nieuwe pagina.
    </div>
    <form #registrationForm="ngForm" (ngSubmit)="onSubmit()" class="offset-sm-3 col-sm-6 margin-top-40">
      <div class="row">
        <div class="col-sm-12 form-group">
          <h2>Registreren</h2>
          <p>Registreer hier een account.</p>
          <div *ngIf="error" class="alert alert-danger">
            <ul class="margin-bottom-0 list-unstyled">
              <li> Er is een fout opgetreden.</li>
              <li>Probeer het opnieuw.</li>
            </ul>
          </div>
          <label for="name">Naam</label>
          <input #name="ngModel" [(ngModel)]="user.name" class="form-control" id="name"
                 name="name"
                 placeholder="Naam" required="true" type="text">
          <div *ngIf="name.invalid && name.dirty" class="alert alert-danger">
            <li *ngIf="name.errors.required">Naam is verplicht</li>
          </div>

        </div>
        <div class="col-sm-12 form-group">
          <label for="email">E-mailadres</label>
          <input #email="ngModel" [(ngModel)]="user.email" aria-describedby="emailHelp" class="form-control" email
                 id="email"
                 name="email" placeholder="E-mail" required type="email">
          <div *ngIf="email.invalid && email.dirty" class="alert alert-danger">
            <li *ngIf="email.errors.required">E-mail is verplicht</li>
            <li *ngIf="email.errors.email">E-mail is ongeldig</li>
          </div>

        </div>
        <div class="col-sm-12 form-group">
          <label for="password">Wachtwoord</label>
          <input #password="ngModel" [(ngModel)]="user.password" class="form-control" id="password"
                 minlength="8"
                 name="password" placeholder="Wachtwoord" required="true" type="password">
          <div *ngIf="password.invalid && password.dirty" class="alert alert-danger">
            <li *ngIf="password.errors.required">Wachtwoord is verplicht</li>
            <li *ngIf="password.errors.minlength">Wachtwoord moet uit
              minimaal {{password.errors.minlength.requiredLength}} karakters bestaan
            </li>
          </div>
        </div>

        <div class="col-sm-12 form-group">
          <label for="confirm_password">Bevestig wachtwoord</label>
          <input #confirmPassword="ngModel" [(ngModel)]="user.confirmPassword" class="form-control" id="confirm_password"
                 name="confirm_password"
                 pattern="{{password.value}}" placeholder="Bevestig wachtwoord" required
                 type="password">
          <div *ngIf="confirmPassword.invalid && confirmPassword.dirty" class="alert alert-danger">
            <li *ngIf="confirmPassword.errors.required">Bevestig wachtwoord is verplicht</li>
            <li *ngIf="confirmPassword.errors.pattern">Wachtwoorden moeten overeenkomen</li>
          </div>
        </div>
        <div class="col-sm-12 form-group">
          <input [disabled]="!registrationForm.valid" class="btn btn-primary float-right btn-block-sm"
                 type="submit"
                 value="Maak account aan">
        </div>
      </div>
    </form>
  </div>
</div>
